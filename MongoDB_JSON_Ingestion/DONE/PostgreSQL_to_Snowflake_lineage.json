{"eventTime": "2025-12-03T17:19:14.175289+00:00", "eventType": "START", "inputs": [{"facets": {"dataSource": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataSourceDatasetFacet", "name": "prod-postgresql-01", "uri": "postgresql://prod-db.company.com:5432/ecommerce"}, "ownership": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OwnershipDatasetFacet", "owners": [{"name": "data-engineering-team", "type": "team"}, {"name": "john.doe@company.com", "type": "person"}]}, "schema": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SchemaDatasetFacet", "fields": [{"description": "Unique transaction identifier", "name": "transaction_id", "type": "BIGINT"}, {"description": "Customer identifier", "name": "customer_id", "type": "BIGINT"}, {"description": "Product name", "name": "product_name", "type": "VARCHAR(255)"}, {"description": "Transaction amount", "name": "amount", "type": "DECIMAL(10,2)"}, {"description": "Transaction timestamp", "name": "transaction_date", "type": "TIMESTAMP"}, {"description": "Customer email", "name": "email", "type": "VARCHAR(255)"}]}, "version": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DatasetVersionDatasetFacet", "datasetVersion": "2025-12-03T22:00:00Z"}}, "inputFacets": {"dataQualityAssertions": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "#/definitions/DataQualityAssertionsDatasetFacet", "assertions": [{"assertion": "transaction_id_is_unique", "column": "transaction_id", "success": true}, {"assertion": "amount_is_positive", "column": "amount", "success": true}, {"assertion": "email_format_valid", "column": "email", "success": false}, {"assertion": "no_future_dates", "column": "transaction_date", "success": true}]}, "dataQualityMetrics": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataQualityMetricsInputDatasetFacet", "bytes": 52428800, "columnMetrics": {"amount": {"count": 149850, "distinctCount": 12500, "max": 9999.99, "min": 5.99, "nullCount": 150, "quantiles": {"0.25": 45.0, "0.5": 120.0, "0.75": 350.0, "0.95": 1250.0}, "sum": 7500000.0}, "customer_id": {"count": 150000, "distinctCount": 45000, "max": 100000.0, "min": 1.0, "nullCount": 0}, "email": {"count": 149995, "distinctCount": 44998, "nullCount": 5}, "transaction_id": {"count": 150000, "distinctCount": 150000, "max": 150000.0, "min": 1.0, "nullCount": 0}}, "fileCount": 1, "rowCount": 150000}}, "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "job": {"facets": {"sourceCodeLocation": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SourceCodeLocationJobFacet", "type": "git", "url": "https://github.com/company/data-pipelines"}, "sql": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SqlJobFacet", "query": "\n                INSERT INTO analytics.reporting.customer_summary\n                SELECT \n                    customer_id,\n                    MAX(first_name || ' ' || last_name) AS full_name,\n                    UPPER(TRIM(MAX(email))) AS email_normalized,\n                    COUNT(transaction_id) AS total_transactions,\n                    SUM(amount) AS total_spent,\n                    AVG(amount) AS avg_transaction_value,\n                    CASE \n                        WHEN SUM(amount) > 10000 THEN 'platinum'\n                        WHEN SUM(amount) > 5000 THEN 'gold'\n                        WHEN SUM(amount) > 1000 THEN 'silver'\n                        ELSE 'bronze'\n                    END AS customer_tier\n                FROM ecommerce.public.raw_transactions\n                WHERE transaction_date >= CURRENT_DATE - INTERVAL '90 days'\n                GROUP BY customer_id\n                "}}, "name": "customer_360_aggregation", "namespace": "production_warehouse"}, "outputs": [{"facets": {"columnLineage": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/ColumnLineageDatasetFacet", "fields": {"avg_transaction_value": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Average transaction value per customer", "transformationType": "AGGREGATION"}, "customer_id": {"inputFields": [{"field": "customer_id", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Direct mapping from input to output", "transformationType": "DIRECT"}, "customer_tier": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Derived customer tier based on total spent", "transformationType": "INDIRECT"}, "email_normalized": {"inputFields": [{"field": "email", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Normalized email by trimming and converting to uppercase", "transformationType": "TRANSFORMATION"}, "total_spent": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Total amount spent by customer", "transformationType": "AGGREGATION"}, "total_transactions": {"inputFields": [{"field": "transaction_id", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Count of transactions per customer", "transformationType": "AGGREGATION"}}}, "dataSource": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataSourceDatasetFacet", "name": "snowflake-prod", "uri": "snowflake://prod-account.snowflakecomputing.com/analytics"}, "lifecycleStateChange": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/LifecycleStateChangeDatasetFacet", "lifecycleStateChange": "OVERWRITE"}, "ownership": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OwnershipDatasetFacet", "owners": [{"name": "analytics-team", "type": "team"}]}, "schema": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SchemaDatasetFacet", "fields": [{"description": "Customer identifier", "name": "customer_id", "type": "BIGINT"}, {"description": "Customer full name", "name": "full_name", "type": "VARCHAR(255)"}, {"description": "Normalized email address", "name": "email_normalized", "type": "VARCHAR(255)"}, {"description": "Count of transactions", "name": "total_transactions", "type": "BIGINT"}, {"description": "Sum of all transaction amounts", "name": "total_spent", "type": "DECIMAL(12,2)"}, {"description": "Average transaction amount", "name": "avg_transaction_value", "type": "DECIMAL(10,2)"}, {"description": "Customer value tier", "name": "customer_tier", "type": "VARCHAR(50)"}]}}, "name": "analytics.reporting.customer_summary", "namespace": "snowflake://prod-account.snowflakecomputing.com", "outputFacets": {"outputStatistics": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OutputStatisticsOutputDatasetFacet", "rowCount": 45000, "size": 2621440}}}], "producer": "https://github.com/company/data-pipelines/v2.5.0", "run": {"facets": {"nominalTime": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/NominalTimeRunFacet", "nominalEndTime": "2025-12-03T22:30:00+00:00", "nominalStartTime": "2025-12-03T22:00:00+00:00"}, "parent": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/ParentRunFacet", "job": {"name": "daily_customer_analytics_dag", "namespace": "production_warehouse"}, "run": {"runId": "4e03674b-5ad1-450c-8c60-dbb48a578857"}}, "tags": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://openlineage.io/spec/facets/1-0-0/TagsRunFacet.json#/$defs/TagsRunFacet", "tags": [{"key": "openlineage_client_version", "source": "OPENLINEAGE_CLIENT", "value": "1.40.1"}]}}, "runId": "babdcfc6-b8f5-4d1d-87bf-084871dd5ae1"}, "schemaURL": "https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunEvent"}
{"eventTime": "2025-12-03T17:19:15.181186+00:00", "eventType": "COMPLETE", "inputs": [{"facets": {"dataSource": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataSourceDatasetFacet", "name": "prod-postgresql-01", "uri": "postgresql://prod-db.company.com:5432/ecommerce"}, "ownership": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OwnershipDatasetFacet", "owners": [{"name": "data-engineering-team", "type": "team"}, {"name": "john.doe@company.com", "type": "person"}]}, "schema": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SchemaDatasetFacet", "fields": [{"description": "Unique transaction identifier", "name": "transaction_id", "type": "BIGINT"}, {"description": "Customer identifier", "name": "customer_id", "type": "BIGINT"}, {"description": "Product name", "name": "product_name", "type": "VARCHAR(255)"}, {"description": "Transaction amount", "name": "amount", "type": "DECIMAL(10,2)"}, {"description": "Transaction timestamp", "name": "transaction_date", "type": "TIMESTAMP"}, {"description": "Customer email", "name": "email", "type": "VARCHAR(255)"}]}, "version": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DatasetVersionDatasetFacet", "datasetVersion": "2025-12-03T22:00:00Z"}}, "inputFacets": {"dataQualityAssertions": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "#/definitions/DataQualityAssertionsDatasetFacet", "assertions": [{"assertion": "transaction_id_is_unique", "column": "transaction_id", "success": true}, {"assertion": "amount_is_positive", "column": "amount", "success": true}, {"assertion": "email_format_valid", "column": "email", "success": false}, {"assertion": "no_future_dates", "column": "transaction_date", "success": true}]}, "dataQualityMetrics": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataQualityMetricsInputDatasetFacet", "bytes": 52428800, "columnMetrics": {"amount": {"count": 149850, "distinctCount": 12500, "max": 9999.99, "min": 5.99, "nullCount": 150, "quantiles": {"0.25": 45.0, "0.5": 120.0, "0.75": 350.0, "0.95": 1250.0}, "sum": 7500000.0}, "customer_id": {"count": 150000, "distinctCount": 45000, "max": 100000.0, "min": 1.0, "nullCount": 0}, "email": {"count": 149995, "distinctCount": 44998, "nullCount": 5}, "transaction_id": {"count": 150000, "distinctCount": 150000, "max": 150000.0, "min": 1.0, "nullCount": 0}}, "fileCount": 1, "rowCount": 150000}}, "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "job": {"facets": {"sourceCodeLocation": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SourceCodeLocationJobFacet", "type": "git", "url": "https://github.com/company/data-pipelines"}, "sql": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SqlJobFacet", "query": "\n                INSERT INTO analytics.reporting.customer_summary\n                SELECT \n                    customer_id,\n                    MAX(first_name || ' ' || last_name) AS full_name,\n                    UPPER(TRIM(MAX(email))) AS email_normalized,\n                    COUNT(transaction_id) AS total_transactions,\n                    SUM(amount) AS total_spent,\n                    AVG(amount) AS avg_transaction_value,\n                    CASE \n                        WHEN SUM(amount) > 10000 THEN 'platinum'\n                        WHEN SUM(amount) > 5000 THEN 'gold'\n                        WHEN SUM(amount) > 1000 THEN 'silver'\n                        ELSE 'bronze'\n                    END AS customer_tier\n                FROM ecommerce.public.raw_transactions\n                WHERE transaction_date >= CURRENT_DATE - INTERVAL '90 days'\n                GROUP BY customer_id\n                "}}, "name": "customer_360_aggregation", "namespace": "production_warehouse"}, "outputs": [{"facets": {"columnLineage": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/ColumnLineageDatasetFacet", "fields": {"avg_transaction_value": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Average transaction value per customer", "transformationType": "AGGREGATION"}, "customer_id": {"inputFields": [{"field": "customer_id", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Direct mapping from input to output", "transformationType": "DIRECT"}, "customer_tier": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Derived customer tier based on total spent", "transformationType": "INDIRECT"}, "email_normalized": {"inputFields": [{"field": "email", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Normalized email by trimming and converting to uppercase", "transformationType": "TRANSFORMATION"}, "total_spent": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Total amount spent by customer", "transformationType": "AGGREGATION"}, "total_transactions": {"inputFields": [{"field": "transaction_id", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Count of transactions per customer", "transformationType": "AGGREGATION"}}}, "dataSource": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataSourceDatasetFacet", "name": "snowflake-prod", "uri": "snowflake://prod-account.snowflakecomputing.com/analytics"}, "lifecycleStateChange": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/LifecycleStateChangeDatasetFacet", "lifecycleStateChange": "OVERWRITE"}, "ownership": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OwnershipDatasetFacet", "owners": [{"name": "analytics-team", "type": "team"}]}, "schema": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SchemaDatasetFacet", "fields": [{"description": "Customer identifier", "name": "customer_id", "type": "BIGINT"}, {"description": "Customer full name", "name": "full_name", "type": "VARCHAR(255)"}, {"description": "Normalized email address", "name": "email_normalized", "type": "VARCHAR(255)"}, {"description": "Count of transactions", "name": "total_transactions", "type": "BIGINT"}, {"description": "Sum of all transaction amounts", "name": "total_spent", "type": "DECIMAL(12,2)"}, {"description": "Average transaction amount", "name": "avg_transaction_value", "type": "DECIMAL(10,2)"}, {"description": "Customer value tier", "name": "customer_tier", "type": "VARCHAR(50)"}]}}, "name": "analytics.reporting.customer_summary", "namespace": "snowflake://prod-account.snowflakecomputing.com", "outputFacets": {"outputStatistics": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OutputStatisticsOutputDatasetFacet", "rowCount": 45000, "size": 2621440}}}], "producer": "https://github.com/company/data-pipelines/v2.5.0", "run": {"facets": {"nominalTime": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/NominalTimeRunFacet", "nominalEndTime": "2025-12-03T22:30:00+00:00", "nominalStartTime": "2025-12-03T22:00:00+00:00"}, "parent": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/ParentRunFacet", "job": {"name": "daily_customer_analytics_dag", "namespace": "production_warehouse"}, "run": {"runId": "4e03674b-5ad1-450c-8c60-dbb48a578857"}}, "tags": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://openlineage.io/spec/facets/1-0-0/TagsRunFacet.json#/$defs/TagsRunFacet", "tags": [{"key": "openlineage_client_version", "source": "OPENLINEAGE_CLIENT", "value": "1.40.1"}]}}, "runId": "babdcfc6-b8f5-4d1d-87bf-084871dd5ae1"}, "schemaURL": "https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunEvent"}
{"eventTime": "2025-12-03T17:35:15.474855+00:00", "eventType": "START", "inputs": [{"facets": {"dataSource": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataSourceDatasetFacet", "name": "prod-postgresql-01", "uri": "postgresql://prod-db.company.com:5432/ecommerce"}, "ownership": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OwnershipDatasetFacet", "owners": [{"name": "data-engineering-team", "type": "team"}, {"name": "john.doe@company.com", "type": "person"}]}, "schema": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SchemaDatasetFacet", "fields": [{"description": "Unique transaction identifier", "name": "transaction_id", "type": "BIGINT"}, {"description": "Customer identifier", "name": "customer_id", "type": "BIGINT"}, {"description": "Product name", "name": "product_name", "type": "VARCHAR(255)"}, {"description": "Transaction amount", "name": "amount", "type": "DECIMAL(10,2)"}, {"description": "Transaction timestamp", "name": "transaction_date", "type": "TIMESTAMP"}, {"description": "Customer email", "name": "email", "type": "VARCHAR(255)"}]}, "version": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DatasetVersionDatasetFacet", "datasetVersion": "2025-12-03T22:00:00Z"}}, "inputFacets": {"dataQualityAssertions": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "#/definitions/DataQualityAssertionsDatasetFacet", "assertions": [{"assertion": "transaction_id_is_unique", "column": "transaction_id", "success": true}, {"assertion": "amount_is_positive", "column": "amount", "success": true}, {"assertion": "email_format_valid", "column": "email", "success": false}, {"assertion": "no_future_dates", "column": "transaction_date", "success": true}]}, "dataQualityMetrics": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataQualityMetricsInputDatasetFacet", "bytes": 52428800, "columnMetrics": {"amount": {"count": 149850, "distinctCount": 12500, "max": 9999.99, "min": 5.99, "nullCount": 150, "quantiles": {"0.25": 45.0, "0.5": 120.0, "0.75": 350.0, "0.95": 1250.0}, "sum": 7500000.0}, "customer_id": {"count": 150000, "distinctCount": 45000, "max": 100000.0, "min": 1.0, "nullCount": 0}, "email": {"count": 149995, "distinctCount": 44998, "nullCount": 5}, "transaction_id": {"count": 150000, "distinctCount": 150000, "max": 150000.0, "min": 1.0, "nullCount": 0}}, "fileCount": 1, "rowCount": 150000}}, "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "job": {"facets": {"sourceCodeLocation": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SourceCodeLocationJobFacet", "type": "git", "url": "https://github.com/company/data-pipelines"}, "sql": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SqlJobFacet", "query": "\n                INSERT INTO analytics.reporting.customer_summary\n                SELECT \n                    customer_id,\n                    MAX(first_name || ' ' || last_name) AS full_name,\n                    UPPER(TRIM(MAX(email))) AS email_normalized,\n                    COUNT(transaction_id) AS total_transactions,\n                    SUM(amount) AS total_spent,\n                    AVG(amount) AS avg_transaction_value,\n                    CASE \n                        WHEN SUM(amount) > 10000 THEN 'platinum'\n                        WHEN SUM(amount) > 5000 THEN 'gold'\n                        WHEN SUM(amount) > 1000 THEN 'silver'\n                        ELSE 'bronze'\n                    END AS customer_tier\n                FROM ecommerce.public.raw_transactions\n                WHERE transaction_date >= CURRENT_DATE - INTERVAL '90 days'\n                GROUP BY customer_id\n                "}}, "name": "customer_360_aggregation", "namespace": "production_warehouse"}, "outputs": [{"facets": {"columnLineage": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/ColumnLineageDatasetFacet", "fields": {"avg_transaction_value": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Average transaction value per customer", "transformationType": "AGGREGATION"}, "customer_id": {"inputFields": [{"field": "customer_id", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Direct mapping from input to output", "transformationType": "DIRECT"}, "customer_tier": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Derived customer tier based on total spent", "transformationType": "INDIRECT"}, "email_normalized": {"inputFields": [{"field": "email", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Normalized email by trimming and converting to uppercase", "transformationType": "TRANSFORMATION"}, "total_spent": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Total amount spent by customer", "transformationType": "AGGREGATION"}, "total_transactions": {"inputFields": [{"field": "transaction_id", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Count of transactions per customer", "transformationType": "AGGREGATION"}}}, "dataSource": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataSourceDatasetFacet", "name": "snowflake-prod", "uri": "snowflake://prod-account.snowflakecomputing.com/analytics"}, "lifecycleStateChange": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/LifecycleStateChangeDatasetFacet", "lifecycleStateChange": "OVERWRITE"}, "ownership": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OwnershipDatasetFacet", "owners": [{"name": "analytics-team", "type": "team"}]}, "schema": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SchemaDatasetFacet", "fields": [{"description": "Customer identifier", "name": "customer_id", "type": "BIGINT"}, {"description": "Customer full name", "name": "full_name", "type": "VARCHAR(255)"}, {"description": "Normalized email address", "name": "email_normalized", "type": "VARCHAR(255)"}, {"description": "Count of transactions", "name": "total_transactions", "type": "BIGINT"}, {"description": "Sum of all transaction amounts", "name": "total_spent", "type": "DECIMAL(12,2)"}, {"description": "Average transaction amount", "name": "avg_transaction_value", "type": "DECIMAL(10,2)"}, {"description": "Customer value tier", "name": "customer_tier", "type": "VARCHAR(50)"}]}}, "name": "analytics.reporting.customer_summary", "namespace": "snowflake://prod-account.snowflakecomputing.com", "outputFacets": {"outputStatistics": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OutputStatisticsOutputDatasetFacet", "rowCount": 45000, "size": 2621440}}}], "producer": "https://github.com/company/data-pipelines/v2.5.0", "run": {"facets": {"nominalTime": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/NominalTimeRunFacet", "nominalEndTime": "2025-12-03T22:30:00+00:00", "nominalStartTime": "2025-12-03T22:00:00+00:00"}, "parent": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/ParentRunFacet", "job": {"name": "daily_customer_analytics_dag", "namespace": "production_warehouse"}, "run": {"runId": "592dcf34-c955-41e3-b966-f551ac042181"}}, "tags": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://openlineage.io/spec/facets/1-0-0/TagsRunFacet.json#/$defs/TagsRunFacet", "tags": [{"key": "openlineage_client_version", "source": "OPENLINEAGE_CLIENT", "value": "1.40.1"}]}}, "runId": "14e73a16-83bd-4252-8ca9-ea8025bad451"}, "schemaURL": "https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunEvent"}
{"eventTime": "2025-12-03T17:35:16.480530+00:00", "eventType": "COMPLETE", "inputs": [{"facets": {"dataSource": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataSourceDatasetFacet", "name": "prod-postgresql-01", "uri": "postgresql://prod-db.company.com:5432/ecommerce"}, "ownership": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OwnershipDatasetFacet", "owners": [{"name": "data-engineering-team", "type": "team"}, {"name": "john.doe@company.com", "type": "person"}]}, "schema": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SchemaDatasetFacet", "fields": [{"description": "Unique transaction identifier", "name": "transaction_id", "type": "BIGINT"}, {"description": "Customer identifier", "name": "customer_id", "type": "BIGINT"}, {"description": "Product name", "name": "product_name", "type": "VARCHAR(255)"}, {"description": "Transaction amount", "name": "amount", "type": "DECIMAL(10,2)"}, {"description": "Transaction timestamp", "name": "transaction_date", "type": "TIMESTAMP"}, {"description": "Customer email", "name": "email", "type": "VARCHAR(255)"}]}, "version": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DatasetVersionDatasetFacet", "datasetVersion": "2025-12-03T22:00:00Z"}}, "inputFacets": {"dataQualityAssertions": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "#/definitions/DataQualityAssertionsDatasetFacet", "assertions": [{"assertion": "transaction_id_is_unique", "column": "transaction_id", "success": true}, {"assertion": "amount_is_positive", "column": "amount", "success": true}, {"assertion": "email_format_valid", "column": "email", "success": false}, {"assertion": "no_future_dates", "column": "transaction_date", "success": true}]}, "dataQualityMetrics": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataQualityMetricsInputDatasetFacet", "bytes": 52428800, "columnMetrics": {"amount": {"count": 149850, "distinctCount": 12500, "max": 9999.99, "min": 5.99, "nullCount": 150, "quantiles": {"0.25": 45.0, "0.5": 120.0, "0.75": 350.0, "0.95": 1250.0}, "sum": 7500000.0}, "customer_id": {"count": 150000, "distinctCount": 45000, "max": 100000.0, "min": 1.0, "nullCount": 0}, "email": {"count": 149995, "distinctCount": 44998, "nullCount": 5}, "transaction_id": {"count": 150000, "distinctCount": 150000, "max": 150000.0, "min": 1.0, "nullCount": 0}}, "fileCount": 1, "rowCount": 150000}}, "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "job": {"facets": {"sourceCodeLocation": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SourceCodeLocationJobFacet", "type": "git", "url": "https://github.com/company/data-pipelines"}, "sql": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SqlJobFacet", "query": "\n                INSERT INTO analytics.reporting.customer_summary\n                SELECT \n                    customer_id,\n                    MAX(first_name || ' ' || last_name) AS full_name,\n                    UPPER(TRIM(MAX(email))) AS email_normalized,\n                    COUNT(transaction_id) AS total_transactions,\n                    SUM(amount) AS total_spent,\n                    AVG(amount) AS avg_transaction_value,\n                    CASE \n                        WHEN SUM(amount) > 10000 THEN 'platinum'\n                        WHEN SUM(amount) > 5000 THEN 'gold'\n                        WHEN SUM(amount) > 1000 THEN 'silver'\n                        ELSE 'bronze'\n                    END AS customer_tier\n                FROM ecommerce.public.raw_transactions\n                WHERE transaction_date >= CURRENT_DATE - INTERVAL '90 days'\n                GROUP BY customer_id\n                "}}, "name": "customer_360_aggregation", "namespace": "production_warehouse"}, "outputs": [{"facets": {"columnLineage": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/ColumnLineageDatasetFacet", "fields": {"avg_transaction_value": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Average transaction value per customer", "transformationType": "AGGREGATION"}, "customer_id": {"inputFields": [{"field": "customer_id", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Direct mapping from input to output", "transformationType": "DIRECT"}, "customer_tier": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Derived customer tier based on total spent", "transformationType": "INDIRECT"}, "email_normalized": {"inputFields": [{"field": "email", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Normalized email by trimming and converting to uppercase", "transformationType": "TRANSFORMATION"}, "total_spent": {"inputFields": [{"field": "amount", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Total amount spent by customer", "transformationType": "AGGREGATION"}, "total_transactions": {"inputFields": [{"field": "transaction_id", "name": "ecommerce.public.raw_transactions", "namespace": "postgresql://prod-db:5432"}], "transformationDescription": "Count of transactions per customer", "transformationType": "AGGREGATION"}}}, "dataSource": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DataSourceDatasetFacet", "name": "snowflake-prod", "uri": "snowflake://prod-account.snowflakecomputing.com/analytics"}, "lifecycleStateChange": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/LifecycleStateChangeDatasetFacet", "lifecycleStateChange": "OVERWRITE"}, "ownership": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OwnershipDatasetFacet", "owners": [{"name": "analytics-team", "type": "team"}]}, "schema": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/SchemaDatasetFacet", "fields": [{"description": "Customer identifier", "name": "customer_id", "type": "BIGINT"}, {"description": "Customer full name", "name": "full_name", "type": "VARCHAR(255)"}, {"description": "Normalized email address", "name": "email_normalized", "type": "VARCHAR(255)"}, {"description": "Count of transactions", "name": "total_transactions", "type": "BIGINT"}, {"description": "Sum of all transaction amounts", "name": "total_spent", "type": "DECIMAL(12,2)"}, {"description": "Average transaction amount", "name": "avg_transaction_value", "type": "DECIMAL(10,2)"}, {"description": "Customer value tier", "name": "customer_tier", "type": "VARCHAR(50)"}]}}, "name": "analytics.reporting.customer_summary", "namespace": "snowflake://prod-account.snowflakecomputing.com", "outputFacets": {"outputStatistics": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/OutputStatisticsOutputDatasetFacet", "rowCount": 45000, "size": 2621440}}}], "producer": "https://github.com/company/data-pipelines/v2.5.0", "run": {"facets": {"nominalTime": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/NominalTimeRunFacet", "nominalEndTime": "2025-12-03T22:30:00+00:00", "nominalStartTime": "2025-12-03T22:00:00+00:00"}, "parent": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/ParentRunFacet", "job": {"name": "daily_customer_analytics_dag", "namespace": "production_warehouse"}, "run": {"runId": "592dcf34-c955-41e3-b966-f551ac042181"}}, "tags": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/1.40.1/client/python", "_schemaURL": "https://openlineage.io/spec/facets/1-0-0/TagsRunFacet.json#/$defs/TagsRunFacet", "tags": [{"key": "openlineage_client_version", "source": "OPENLINEAGE_CLIENT", "value": "1.40.1"}]}}, "runId": "14e73a16-83bd-4252-8ca9-ea8025bad451"}, "schemaURL": "https://openlineage.io/spec/2-0-2/OpenLineage.json#/$defs/RunEvent"}
